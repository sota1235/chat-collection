// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var socket;
    socket = io.connect('http://localhost');
    socket.on('connect', function() {
      return console.log('connected');
    });
    $('input:button').click(function() {
      var msg;
      msg = [$('#name').val(), $('#comment').val()];
      console.log(msg[0] + msg[1]);
      $('#comment').val('');
      return socket.emit('msg send', JSON.stringify(msg));
    });
    socket.on('msg push', function(msg) {
      var date, main;
      msg = JSON.parse(msg);
      console.log(msg);
      date = new Date();
      main = $('<div>', {
        "class": 'data'
      });
      $('<span>', {
        "class": 'date'
      }).text(date).appendTo(main);
      $('<div>', {
        "class": 'comment'
      }).text(msg[0] + ' : ' + msg[1]).appendTo(main);
      return $('#comments').prepend(main);
    });
    return socket.on('msg updateDB', function(msg) {
      return console.log(msg);
    });
  });

}).call(this);
